# ü§ñ Telegram Bot –Ω–∞ –±–∞–∑–µ Mistral AI

–ü—Ä–æ—Å—Ç–æ–π Telegram-–±–æ—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ—Å—Ç—ã –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é **Mistral AI API**.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `pyTelegramBotAPI`, `mistralai`, `python-dotenv`, –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## üìå –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞  
- üñº –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Mistral AI (—á–µ—Ä–µ–∑ `beta.agents`)  
- üì± –ü—Ä–æ—Å—Ç–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ Telegram  
- üß† –í—ã–±–æ—Ä —Å—Ç–∏–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞ (–ª–æ–≥–∏—á–µ—Å–∫–∏–π, –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π, —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- üßæ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–º–æ–¥–∑–∏, —Ö—ç—à—Ç–µ–≥–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞  

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:

- Python 3.8+
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ø–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ):
  - `pyTelegramBotAPI==4.27.0`
  - `python-dotenv==1.1.1`
  - `mistralai==1.9.2`
  - `Pillow==11.3.0` [?]
  - `Flask==3.0.0`
- –£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏:
  - [Telegram Bot Token](https://core.telegram.org/bots/api )
  - [Mistral AI API Key](https://mistral.ai )
  - [WEBHOOK_HOST](https://render.com )

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/ –≤–∞—à–µ-–∏–º—è/–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.git
cd –≤–∞—à-–ø—Ä–æ–µ–∫—Ç
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
TELEGRAM_BOT_TOKEN = "–í–ê–® Telegram Bot Token"
MISTRAL_API_KEY = "–í–ê–® Mistral AI API Key"
WEBHOOK_HOST = https://–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ç–≤–æ–µ–≥–æ-–±–æ—Ç–∞.onrender.com
```

## üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python3 bot.py
```

–ë–æ—Ç –Ω–∞—á–Ω–µ—Ç —Ä–∞–±–æ—Ç—É –∏ –±—É–¥–µ—Ç –æ–∂–∏–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start` –¥–ª—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
2. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É)
3. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É –ø–æ—Å—Ç–∞ –∏ –æ–∂–∏–¥–∞–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
.
‚îú‚îÄ‚îÄ bot.py               # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ .env                 # –§–∞–π–ª —Å —Ç–æ–∫–µ–Ω–∞–º–∏
‚îú‚îÄ‚îÄ .gitignore           # –§–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏, –∏—Å–∫–ª—é—á—ë–Ω–Ω—ã–µ –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
‚îú‚îÄ‚îÄ README.md            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ requirements.txt     # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

## üìù –ü—Ä–∏–º–µ—Ä .gitignore

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .gitignore –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ç–∞–∫–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```
# –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
venv/
__pycache__/
*.pyc

# –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
.env
.env.local
.env.development
.env.test

# –õ–æ–≥–∏
*.log
logs/

# –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã
.DS_Store
Thumbs.db
```

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

**–û—à–∏–±–∫–∞: "Mistral object has no attribute 'images'"**  
Mistral AI –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `images.generate` –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ SDK. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `beta.agents`.

**–û—à–∏–±–∫–∞: "AuthenticationError"**  
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ `TELEGRAM_BOT_TOKEN` –∏ `MISTRAL_API_KEY` –≤ `.env` —Ñ–∞–π–ª–µ.

**–û—à–∏–±–∫–∞: "No module named 'mistralai'"**  
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É: `pip install mistralai==1.9.2`

## üìã –ü–ª–∞–Ω –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–µ —Ñ–∏—á

**–ü—Ä–æ–≥—Ä–µ—Å—Å:**  
‚òë 8 –∏–∑ 13 —Ñ–∏—á —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
`[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë] 62%`

1. üîÑ –ê–ø–≥—Ä–µ–π–¥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:  
   ‚òë –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ –∏–º–µ–Ω–∏ –∏–∑ Telegram (`first_name` –∏–ª–∏ `username`)  
   ‚òë –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫ –ø–æ—Å–ª—É (–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –∏–∑-–∑–∞ –ª–∏–º–∏—Ç–æ–≤)  
   ‚òë –í—ã–±–æ—Ä —Å—Ç–∏–ª—å —Ç–µ–∫—Å—Ç–∞ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ = –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å)  
   ‚òê –í–∫–ª / –≤—ã–∫–ª —Ö—ç—à—Ç–µ–≥–∏  
   ‚òê –í–∫–ª / –≤—ã–∫–ª —ç–º–æ–¥–∑–∏  

2. üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Render —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤–µ–±—Ö—É–∫–∞:  
   ‚òë `webhook`  
   ‚òë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö  
   ‚òë –ê–∫—Ç–∏–≤–∞—Ü–∏—è `setWebhook`  
   ‚òë HTTPS-–º–∞—Ä—à—Ä—É—Ç—ã  
   ‚òë –î–æ–±–∞–≤–ª–µ–Ω anti-sleep module –¥–ª—è render.com  

3. ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å—Ç–æ–≤:  
   ‚òê –ö–æ–º–∞–Ω–¥–∞ `/schedule`  
   ‚òê –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è/–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞  
   ‚òê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `APScheduler`

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Telegram Bot API Documentation](https://core.telegram.org/bots/api )
- [Mistral AI Documentation](https://docs.mistral.ai/ )
- [Telegram –±–æ—Ç –Ω–∞ Python ‚Äî –ø—Ä–∏–º–µ—Ä](https://habr.com/ru/articles/750332/ )
- [–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å .env –∏ load_dotenv](https://habr.com/ru/articles/662406/ )

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ‚Äî —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.